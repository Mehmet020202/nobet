import{j as e,i as C,k as w,b as k}from"./radix-ui-DGgDhZMf.js";import{c as S,a as b,B as A,U as D,C as E}from"./index-3ZT1LmJ7.js";import{u as B,C as l,a as d,b as o,c as u,d as x}from"./useIndexedDB-CLkKVxWR.js";import{S as z,L as i,I as y}from"./label-DkrypK9k.js";import"./pdf-ckwbz45p.js";import"./utils-B6LxV9S2.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],K=S("clock",I);function n({className:a,...c}){return e.jsx(C,{"data-slot":"switch",className:b("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:e.jsx(w,{"data-slot":"switch-thumb",className:b("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const O=()=>{const[a,c]=k.useState({shifts:{morning:{start:"08:00",end:"16:00",count:4},evening:{start:"16:00",end:"24:00",count:4},night:{start:"00:00",end:"08:00",count:3}},rules:{no_consecutive_duties:!0,equal_distribution:!0,respect_red_days:!0,respect_blue_days:!0},notifications:{schedule_generated:!0,duty_reminders:!0,conflict_alerts:!0},export:{include_doctor_info:!0,include_statistics:!0,pdf_format:"A4",excel_format:"xlsx"}}),{getSettings:p,saveSettings:N}=B();k.useEffect(()=>{v()},[]);const v=async()=>{try{const s=await p();s&&c(s)}catch(s){console.error("Error loading settings:",s)}},_=async()=>{try{await N(a),alert("Ayarlar başarıyla kaydedildi!")}catch(s){console.error("Error saving settings:",s),alert("Ayarlar kaydedilirken hata oluştu!")}},m=(s,r,t)=>{c(g=>({...g,shifts:{...g.shifts,[s]:{...g.shifts[s],[r]:t}}}))},h=(s,r)=>{c(t=>({...t,rules:{...t.rules,[s]:r}}))},j=(s,r)=>{c(t=>({...t,notifications:{...t.notifications,[s]:r}}))},f=(s,r)=>{c(t=>({...t,export:{...t.export,[s]:r}}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Sistem Ayarları"}),e.jsx("p",{className:"text-muted-foreground",children:"Nöbet sistemi ayarlarını yapılandırın"})]}),e.jsxs(A,{onClick:_,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Ayarları Kaydet"]})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsxs(o,{className:"flex items-center",children:[e.jsx(K,{className:"mr-2 h-5 w-5"}),"Vardiya Ayarları"]}),e.jsx(u,{children:"Nöbet vardiyalarının saatlerini ve doktor sayılarını belirleyin. Sistem ay başından ay başına dinamik doktor sayısına göre otomatik planlama yapar."})]}),e.jsx(x,{className:"space-y-6",children:Object.entries(a.shifts).map(([s,r])=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"font-semibold capitalize",children:[s==="morning"?"Sabah":s==="evening"?"Akşam":"Gece"," Vardiyası"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Başlangıç Saati"}),e.jsx(y,{type:"time",value:r.start,onChange:t=>m(s,"start",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Bitiş Saati"}),e.jsx(y,{type:"time",value:r.end,onChange:t=>m(s,"end",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Doktor Sayısı"}),e.jsx(y,{type:"number",min:"1",max:"20",value:r.count,onChange:t=>m(s,"count",parseInt(t.target.value))})]})]},s))})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsxs(o,{className:"flex items-center",children:[e.jsx(D,{className:"mr-2 h-5 w-5"}),"Nöbet Kuralları"]}),e.jsx(u,{children:"Nöbet dağıtımında uygulanacak kuralları belirleyin"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Ardışık Nöbet Yasağı"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Doktorlar üst üste nöbet tutamaz"})]}),e.jsx(n,{checked:a.rules.no_consecutive_duties,onCheckedChange:s=>h("no_consecutive_duties",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Eşit Dağıtım"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nöbet hakları eşit şekilde dağıtılır"})]}),e.jsx(n,{checked:a.rules.equal_distribution,onCheckedChange:s=>h("equal_distribution",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Kırmızı Gün Kuralı"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kırmızı günler opsiyonel - sadece özel izin durumlarında kullanılır"})]}),e.jsx(n,{checked:a.rules.respect_red_days,onCheckedChange:s=>h("respect_red_days",s)})]})]})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsxs(o,{className:"flex items-center",children:[e.jsx(E,{className:"mr-2 h-5 w-5"}),"Bildirim Ayarları"]}),e.jsx(u,{children:"Sistem bildirimlerini yapılandırın"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Program Oluşturma Bildirimi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nöbet programı oluşturulduğunda bildirim göster"})]}),e.jsx(n,{checked:a.notifications.schedule_generated,onCheckedChange:s=>j("schedule_generated",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Nöbet Hatırlatıcıları"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Yaklaşan nöbetler için hatırlatıcı göster"})]}),e.jsx(n,{checked:a.notifications.duty_reminders,onCheckedChange:s=>j("duty_reminders",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Çakışma Uyarıları"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nöbet çakışmaları için uyarı göster"})]}),e.jsx(n,{checked:a.notifications.conflict_alerts,onCheckedChange:s=>j("conflict_alerts",s)})]})]})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Dışa Aktarma Ayarları"}),e.jsx(u,{children:"PDF ve Excel çıktı ayarlarını yapılandırın"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Doktor Bilgilerini Dahil Et"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Çıktıya doktor bilgilerini ekle"})]}),e.jsx(n,{checked:a.export.include_doctor_info,onCheckedChange:s=>f("include_doctor_info",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{children:"İstatistikleri Dahil Et"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Çıktıya nöbet istatistiklerini ekle"})]}),e.jsx(n,{checked:a.export.include_statistics,onCheckedChange:s=>f("include_statistics",s)})]})]})]})]})};export{O as default};
